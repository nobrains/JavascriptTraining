<html>
<body>
	<!-- <pre> -->
		<script type="text/javascript">
			function log(arg){
				document.writeln(arg+"<br/>");
			}
			function identity(x){
				return x;
			}
			function add(a,b){
				return a+b;
			}
			function sub(a,b){
				return a-b;
			}
			function mul(a,b){
				return a*b;
			}
			function identitfy(id){				
					return function(){
						return id;
					}
			}
			var three = identitfy(3);
			// log(three());
			function addf(arg){
				return function(id){
					return arg+id;
				}
			}
			// log(addf(3)(4));
			function liftf(operation){
				return function(a){
					return function(b){
						return operation(a,b);
					}
				}
			}
			var addf = liftf(add);
			// log(addf(3)(4));
			// log(liftf(mul)(5)(6));
			function curry(operation, a){
				return function(b){
					return operation(a,b);
				}
			}
			var add3 = curry(add,3);
			// log(add3(4));
			/*
			function inc1(a){
				return add(a,1);
			}
			// log(inc1(5));
			// log(inc1(inc1(5)));
			function inc2(a){
				return sub(a+2,1);
			}
			// log(inc2(5));
			// log(inc2(inc2(5)));

			function inc3(a){
				return mul(a+1,1);
			}
			// log(inc3(5));
			// log(inc3(inc3(5)));
			//fix this
			*/
			// var inc = liftf(add);
			// log(inc(5));
			function twice(operation){
				return function(a){
					return operation(a,a);//operation(a) operation(a);
				}
			}

			var doubl = twice(add);
			// log(doubl(11));
			var square = twice(mul);
			// log(square(11));

			function reverse(operation){
				return function(a,b){
					return operation(b,a);
				}
			}
			var bus = reverse(sub);
			// log(bus(3,2));
			function composeu(operation1, operation2){
				return function(a){
					return operation2(operation1(a));
				}
			}
			log("composeu(doubl,square)(5) = "+composeu(doubl,square)(5));
			function composeb(operation1, operation2){
				return function(a,b,c){
					return operation2(operation1(a,b),c);
				}
			}
			log("composeb(add,mul)(2,3,7) = "+composeb(add,mul)(2,3,7));
			function once(operation){
				var flag = true;
				return function(a,b){
					if(flag){
						flag = false;
						return operation(a,b);
					}
					return undefined;
				}
			}
			var add_once = once(add);
			log("add_once(3,4) once = "+add_once(3,4));
			log("add_once(3,4) twice = "+add_once(3,4));
			function fromTo(from,to){
				return function() {
					if(from<to){
						return from++;
					}
					return undefined;
				}
			}
			var index = fromTo(0,3);
			log("log(index()) 1 = "+index());
			log("log(index()) 2 = "+index());
			log("log(index()) 3 = "+index());
			log("log(index()) 4 = "+index());

		</script>
	<!-- </pre> -->
</body>
</html>